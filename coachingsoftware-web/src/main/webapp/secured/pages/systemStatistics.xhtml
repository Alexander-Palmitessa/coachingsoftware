<ui:composition template="/templates/main.xhtml"
				xmlns="http://www.w3.org/1999/xhtml"
				xmlns:f="http://xmlns.jcp.org/jsf/core"
				xmlns:h="http://xmlns.jcp.org/jsf/html"
				xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

	<ui:define name="title">
        <h:outputText value="#{loginBean.loggedInUserTeam.name}"/><h:outputText value=" - "/><h:outputText value="#{msg['statistics']}"/><h:outputText value=" - "/><h:outputText value="#{msg['system']}"/><h:outputText value=" - "/><h:outputText value="#{msg['coachingeleven']}"/>
    </ui:define>
	
	<ui:define name="contentTitle">
		<h:outputText value="#{loginBean.loggedInUserTeam.name}"/><h:outputText value=" - "/><h:outputText value="#{msg['statistics']}"/><h:outputText value=" - "/><h:outputText value="#{msg['system']}"/>
	</ui:define>

	<ui:define name="content">
		<h:panelGroup rendered="#{teamDataBean.currentTeam != null}">
			<div class="row">
				<div class="small-12 column">
					<div class="row">
						<div class="small-6 column season-picker">
							<label><h:outputText value="#{msg['changeSeason']}:"/></label>
							<h:form>
								<h:selectOneMenu id="assignedTeamSeason" value="#{loginBean.loggedInUserSeason.ID}">
							        <f:selectItems value="#{seasonBean.findSeasonsForTeam(loginBean.loggedInUserTeam.ID,loginBean.loggedInUser.contact.ID)}" var="season" itemValue="#{season.ID}"
							                       itemLabel="#{season.name}"/>
									<f:ajax listener="#{loginBean.pullLoggedInUserSeason(loginBean.loggedInUserSeason.ID)}" render="systemStatistic" />
							    </h:selectOneMenu>
						    </h:form>
						</div>
					</div>
		        </div>
				<h:panelGroup id="systemStatistic" class="small-12 column">
					<div class="card-team card-user-profile">
						<div class="card-container">
							<div class="card-user-profile-content card-section">
								<!-- system values for donut chart-->
								<h:inputHidden id="T442s" value="#{teamDataBean.systemCount.t442s}"/>
								<h:inputHidden id="T442t" value="#{teamDataBean.systemCount.t442t}"/>
	
								<h:inputHidden id="T424s" value="#{teamDataBean.systemCount.t424s}"/>
								<h:inputHidden id="T424t" value="#{teamDataBean.systemCount.t424t}"/>
	
								<h:inputHidden id="T343s" value="#{teamDataBean.systemCount.t343s}"/>
								<h:inputHidden id="T343t" value="#{teamDataBean.systemCount.t343t}"/>
	
								<h:inputHidden id="T433s" value="#{teamDataBean.systemCount.t433s}"/>
								<h:inputHidden id="T433t" value="#{teamDataBean.systemCount.t433t}"/>
	
								<h:inputHidden id="T532s" value="#{teamDataBean.systemCount.t532s}"/>
								<h:inputHidden id="T532t" value="#{teamDataBean.systemCount.t532t}"/>
	
								<h:inputHidden id="T352s" value="#{teamDataBean.systemCount.t352s}"/>
								<h:inputHidden id="T352t" value="#{teamDataBean.systemCount.t352t}"/>
	
								<h:inputHidden id="T451s" value="#{teamDataBean.systemCount.t451s}"/>
								<h:inputHidden id="T451t" value="#{teamDataBean.systemCount.t451t}"/>
	
								<h:inputHidden id="T4231s" value="#{teamDataBean.systemCount.t4231s}"/>
								<h:inputHidden id="T4231t" value="#{teamDataBean.systemCount.t4231t}"/>
	
								<h:inputHidden id="T4321s" value="#{teamDataBean.systemCount.t4321s}"/>
								<h:inputHidden id="T4321t" value="#{teamDataBean.systemCount.t4321t}"/>
	
								<h:inputHidden id="T4141s" value="#{teamDataBean.systemCount.t4141s}"/>
								<h:inputHidden id="T4141t" value="#{teamDataBean.systemCount.t4141t}"/>
	
								<h:inputHidden id="T3313s" value="#{teamDataBean.systemCount.t3313s}"/>
								<h:inputHidden id="T3313t" value="#{teamDataBean.systemCount.t3313t}"/>
	
								<h:inputHidden id="T4222s" value="#{teamDataBean.systemCount.t4222s}"/>
								<h:inputHidden id="T4222t" value="#{teamDataBean.systemCount.t4222t}"/>
	
								<h:inputHidden id="T541s" value="#{teamDataBean.systemCount.t541s}"/>
								<h:inputHidden id="T541t" value="#{teamDataBean.systemCount.t541t}"/>
	
								<h:inputHidden id="T334s" value="#{teamDataBean.systemCount.t334s}"/>
								<h:inputHidden id="T334t" value="#{teamDataBean.systemCount.t334t}"/>
	
								<h:inputHidden id="T460s" value="#{teamDataBean.systemCount.t460s}"/>
								<h:inputHidden id="T460t" value="#{teamDataBean.systemCount.t460t}"/>
	
								<div class="donut-charts">
								</div>
	
								<script>
									$(document).ready(getDataAndCreateDonuts());
								</script>
							</div>
						</div>
					</div>
				</h:panelGroup>
			</div>
		</h:panelGroup>
	</ui:define>
</ui:composition>
